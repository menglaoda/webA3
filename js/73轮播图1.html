<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			*{
				margin: 0;
				padding: 0;
			}
			#box{
				width: 400px;
				height: 400px;
				border: solid 10px black;
				position: relative;
				margin: 100px auto;
			}
			img{
				width: 400px;
				height: 400px;
				position: absolute;
				top: 0px;
				left: 0px;
				opacity: 0;
			}
			#box img:first-child{
				opacity: 1;
			}
			.leftbtn,.rightbtn{
				width: 40px;
				height: 40px;
				background: red;
				position: absolute;
				left: 0px;
				top: 50%;
				margin-top: -20px;
				font-size: 30px;
				color: white;
				text-align: center;
				line-height: 40px;
			}
			.rightbtn{
				left: 360px;
			}
			#list{
				position: absolute;
				bottom: 30px;
				text-align: center;
				width: 100%;
			}
			#list span{
				width: 20px;
				height: 20px;
				display: inline-block;
				border: solid 1px black;
				border-radius: 50%;
				background: white;
			}
			#list span:first-child{
				background: red;
			}
		</style>
		<script src="js/startMove.js" type="text/javascript" charset="utf-8"></script>
		<script type="text/javascript">
			window.onload = function(){
				var box = document.getElementById("box");
				var oimg = box.getElementsByTagName("img");
				var leftbtn = document.getElementsByClassName("leftbtn")[0];
				var rightbtn = document.getElementsByClassName("rightbtn")[0];
				var ospan = document.getElementsByTagName("span");
				var i = 0;
				var stop = 1;
				var timer = setInterval(banner,3000);
				function banner(){
					stop=0;
					i++;
					if(i==oimg.length){
						i=0;
					}
					for(var j=0;j<oimg.length;j++){
						if(j!=i){
							oimg[j].style.opacity = 0;
						}
					}
					icon();
					startMove(oimg[i],"opacity",1,50,function(){
						stop=1;
					});
				}
				function icon(){
					for(var j=0;j<oimg.length;j++){
						if(j!=i){
							ospan[j].style.background = "white";
						}
						ospan[i].style.background = "red";
					}
				}
				box.onmouseover = function(){
					clearInterval(timer);
				}
				box.onmouseout = function(){
					timer = setInterval(banner,3000);
				}
				//下一张按钮
				rightbtn.onclick = function(){
					if(stop==1){
						banner();
					}
				}
				//上一张
				leftbtn.onclick = function(){
					if(stop==1){
						stop=0;
						i--;
						if(i<0){
							i=oimg.length-1;
						}
						for(var j=0;j<oimg.length;j++){
							if(j!=i){
								oimg[j].style.opacity = 0;
							}
						}
						icon();
						startMove(oimg[i],"opacity",1,50,function(){
							stop=1;
						});
					}
				}
				//移入小圆圈
				for(var j=0;j<ospan.length;j++){
					ospan[j].index = j;
					ospan[j].onmouseover = function(){
						i=this.index;
						icon();
						startMove(oimg[i],"opacity",1,30,function(){
							stop=1;
							for(var j=0;j<oimg.length;j++){
								if(j!=i){
									oimg[j].style.opacity = 0;
								}
							}
						});						
					}
				}
			}
		</script>
	</head>
	<body>
		<div id="box">
			<img src="img/ia_100000003.jpg" />
			<img src="img/ia_100000004.jpg" />
			<img src="img/ia_100000005.jpg" />
			<img src="img/ia_100000006.jpg" />
			<img src="img/ia_100000007.jpg" />
			<div class="leftbtn"><</div>
			<div class="rightbtn">></div>
			<div id="list">
				<span></span>
				<span></span>
				<span></span>
				<span></span>
				<span></span>
			</div>
		</div>
	</body>
</html>
